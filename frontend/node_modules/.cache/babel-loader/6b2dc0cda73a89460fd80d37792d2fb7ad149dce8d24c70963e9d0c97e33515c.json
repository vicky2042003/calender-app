{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import api from\"../services/api\";import\"./LogCommunication.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LogCommunication=()=>{const[companies,setCompanies]=useState([]);const[methods,setMethods]=useState([]);const[selectedCompany,setSelectedCompany]=useState(\"\");const[selectedMethod,setSelectedMethod]=useState(\"\");const[date,setDate]=useState(\"\");const[notes,setNotes]=useState(\"\");useEffect(()=>{const fetchData=async()=>{try{const companyResponse=await api.get(\"/admin/companies\");const methodResponse=await api.get(\"/admin/communication-methods\");setCompanies(companyResponse.data);setMethods(methodResponse.data);}catch(error){console.error(\"Error fetching data:\",error);}};fetchData();},[]);const handleSubmit=async e=>{e.preventDefault();try{await api.post(\"/user/log-communication\",{company_id:selectedCompany,method_id:selectedMethod,date,notes});alert(\"Communication logged successfully!\");setSelectedCompany(\"\");setSelectedMethod(\"\");setDate(\"\");setNotes(\"\");}catch(error){console.error(\"Error logging communication:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log Communication\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"log-communication-form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Company:\",/*#__PURE__*/_jsxs(\"select\",{value:selectedCompany,onChange:e=>setSelectedCompany(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Company\"}),companies.map(company=>/*#__PURE__*/_jsx(\"option\",{value:company.id,children:company.name},company.id))]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Communication Method:\",/*#__PURE__*/_jsxs(\"select\",{value:selectedMethod,onChange:e=>setSelectedMethod(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Method\"}),methods.map(method=>/*#__PURE__*/_jsx(\"option\",{value:method.id,children:method.name},method.id))]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Notes:\",/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log Communication\"})]})]});};export default LogCommunication;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","LogCommunication","companies","setCompanies","methods","setMethods","selectedCompany","setSelectedCompany","selectedMethod","setSelectedMethod","date","setDate","notes","setNotes","fetchData","companyResponse","get","methodResponse","data","error","console","handleSubmit","e","preventDefault","post","company_id","method_id","alert","children","onSubmit","className","value","onChange","target","map","company","id","name","method","type"],"sources":["C:/Users/ADMIN/Desktop/clone/ENTNT_Assignment/frontend/src/components/User/LogCommunication.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport api from \"../services/api\";\r\nimport \"./LogCommunication.css\";\r\n\r\nconst LogCommunication = () => {\r\n  const [companies, setCompanies] = useState([]);\r\n  const [methods, setMethods] = useState([]);\r\n  const [selectedCompany, setSelectedCompany] = useState(\"\");\r\n  const [selectedMethod, setSelectedMethod] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [notes, setNotes] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const companyResponse = await api.get(\"/admin/companies\");\r\n        const methodResponse = await api.get(\"/admin/communication-methods\");\r\n        setCompanies(companyResponse.data);\r\n        setMethods(methodResponse.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await api.post(\"/user/log-communication\", {\r\n        company_id: selectedCompany,\r\n        method_id: selectedMethod,\r\n        date,\r\n        notes,\r\n      });\r\n      alert(\"Communication logged successfully!\");\r\n      setSelectedCompany(\"\");\r\n      setSelectedMethod(\"\");\r\n      setDate(\"\");\r\n      setNotes(\"\");\r\n    } catch (error) {\r\n      console.error(\"Error logging communication:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Log Communication</h1>\r\n      <form onSubmit={handleSubmit} className=\"log-communication-form\">\r\n        <label>\r\n          Company:\r\n          <select\r\n            value={selectedCompany}\r\n            onChange={(e) => setSelectedCompany(e.target.value)}\r\n          >\r\n            <option value=\"\">Select Company</option>\r\n            {companies.map((company) => (\r\n              <option key={company.id} value={company.id}>\r\n                {company.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n\r\n        <label>\r\n          Communication Method:\r\n          <select\r\n            value={selectedMethod}\r\n            onChange={(e) => setSelectedMethod(e.target.value)}\r\n          >\r\n            <option value=\"\">Select Method</option>\r\n            {methods.map((method) => (\r\n              <option key={method.id} value={method.id}>\r\n                {method.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n\r\n        <label>\r\n          Date:\r\n          <input\r\n            type=\"date\"\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Notes:\r\n          <textarea value={notes} onChange={(e) => setNotes(e.target.value)} />\r\n        </label>\r\n\r\n        <button type=\"submit\">Log Communication</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogCommunication;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}