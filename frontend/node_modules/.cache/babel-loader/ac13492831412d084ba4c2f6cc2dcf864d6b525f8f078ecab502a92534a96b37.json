{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/clone/ENTNT_Assignment/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import api from\"../services/api\";import\"./CommunicationMethod.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommunicationMethod=()=>{const[methods,setMethods]=useState([]);const[isModalOpen,setIsModalOpen]=useState(false);const[formData,setFormData]=useState({name:\"\",description:\"\",sequence:\"\",mandatory:false});// Fetch communication methods\nuseEffect(()=>{const fetchMethods=async()=>{try{const response=await api.get(\"/admin/communication-methods\");setMethods(response.data);}catch(error){console.error(\"Error fetching methods:\",error);}};fetchMethods();},[]);// Handle modal open\nconst openModal=()=>{setFormData({name:\"\",description:\"\",sequence:\"\",mandatory:false});setIsModalOpen(true);};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();try{await api.post(\"/admin/communication-methods\",formData);alert(\"Communication method added successfully!\");setIsModalOpen(false);const response=await api.get(\"/admin/communication-methods\");setMethods(response.data);}catch(error){console.error(\"Error adding communication method:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Communication Methods\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:openModal,children:\"Add New Method\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"method-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sequence\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mandatory\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:methods.map(method=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:method.name}),/*#__PURE__*/_jsx(\"td\",{children:method.description}),/*#__PURE__*/_jsx(\"td\",{children:method.sequence}),/*#__PURE__*/_jsx(\"td\",{children:method.mandatory?\"Yes\":\"No\"})]},method.id))})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Communication Method\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Sequence:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.sequence,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{sequence:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Mandatory:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.mandatory,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{mandatory:e.target.checked}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Method\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsModalOpen(false),children:\"Cancel\"})]})]})]})})]});};export default CommunicationMethod;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","CommunicationMethod","methods","setMethods","isModalOpen","setIsModalOpen","formData","setFormData","name","description","sequence","mandatory","fetchMethods","response","get","data","error","console","openModal","handleSubmit","e","preventDefault","post","alert","children","className","onClick","map","method","id","onSubmit","type","value","onChange","_objectSpread","target","required","checked"],"sources":["C:/Users/ADMIN/Desktop/clone/ENTNT_Assignment/frontend/src/components/Admin/CommunicationMethod.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport api from \"../services/api\";\r\nimport \"./CommunicationMethod.css\";\r\n\r\nconst CommunicationMethod = () => {\r\n  const [methods, setMethods] = useState([]);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    sequence: \"\",\r\n    mandatory: false,\r\n  });\r\n\r\n  // Fetch communication methods\r\n  useEffect(() => {\r\n    const fetchMethods = async () => {\r\n      try {\r\n        const response = await api.get(\"/admin/communication-methods\");\r\n        setMethods(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching methods:\", error);\r\n      }\r\n    };\r\n    fetchMethods();\r\n  }, []);\r\n\r\n  // Handle modal open\r\n  const openModal = () => {\r\n    setFormData({\r\n      name: \"\",\r\n      description: \"\",\r\n      sequence: \"\",\r\n      mandatory: false,\r\n    });\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await api.post(\"/admin/communication-methods\", formData);\r\n      alert(\"Communication method added successfully!\");\r\n      setIsModalOpen(false);\r\n      const response = await api.get(\"/admin/communication-methods\");\r\n      setMethods(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error adding communication method:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Communication Methods</h1>\r\n      <button className=\"add-button\" onClick={openModal}>\r\n        Add New Method\r\n      </button>\r\n\r\n      <table className=\"method-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Description</th>\r\n            <th>Sequence</th>\r\n            <th>Mandatory</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {methods.map((method) => (\r\n            <tr key={method.id}>\r\n              <td>{method.name}</td>\r\n              <td>{method.description}</td>\r\n              <td>{method.sequence}</td>\r\n              <td>{method.mandatory ? \"Yes\" : \"No\"}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Modal */}\r\n      {isModalOpen && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content\">\r\n            <h2>Add Communication Method</h2>\r\n            <form onSubmit={handleSubmit}>\r\n              <label>\r\n                Name:\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.name}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, name: e.target.value })\r\n                  }\r\n                  required\r\n                />\r\n              </label>\r\n              <label>\r\n                Description:\r\n                <textarea\r\n                  value={formData.description}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, description: e.target.value })\r\n                  }\r\n                  required\r\n                ></textarea>\r\n              </label>\r\n              <label>\r\n                Sequence:\r\n                <input\r\n                  type=\"number\"\r\n                  value={formData.sequence}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, sequence: e.target.value })\r\n                  }\r\n                  required\r\n                />\r\n              </label>\r\n              <label>\r\n                Mandatory:\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.mandatory}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, mandatory: e.target.checked })\r\n                  }\r\n                />\r\n              </label>\r\n              <div className=\"modal-actions\">\r\n                <button type=\"submit\">Add Method</button>\r\n                <button type=\"button\" onClick={() => setIsModalOpen(false)}>\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommunicationMethod;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}